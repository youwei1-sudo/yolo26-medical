# 会议决定

本次会议详细讨论了 YOLOv26 模型与 v9 模型的性能对比、数据集处理流程的优化，以及模型选择的商业和技术考量。

**一、模型性能对比与发现**

- **YOLOv26 过拟合（Overfit）问题：** Youwei 报告 YOLOv26 模型（尤其在使用默认参数和数据加载器时）存在严重的过拟合现象。
    - **表现：** 在验证集上的平均精度均值（MAP）较好（例如，小/中型模型达到约 78%），但在测试集上的 MAP 下降幅度过大（小模型下降 1.5% - 1.6%，甚至有约 50%的负面跌幅）。
    - **中间结果：** 即使采用了定制的“Y access squash”数据加载器，YOLOv26 的测试集和验证集性能差距虽有缩小（过拟合减轻），但整体 MAP 仍不如 YOLOv9，表明 YOLOv9 在当前数据集上的实际性能仍然更优。
    - **推理时间：** Youwei 提到 YOLOv26 的推理时间（Inference Time）比 YOLOv9 更好，但 Yanir 认为这目前不是一个决定性因素，特别是考虑到 TensorRT 引擎和 Nvidia GPU 的加速。
- **当前最佳模型：** 根据测试集的表现，YOLOv9 仍然是目前性能最佳的模型。

**二、数据集处理与图像尺寸讨论**

- **目标尺寸：** 目标输出尺寸为 **640 像素（宽）x 320 像素（高），672*320**。
- **现有尺寸问题：** 当前图像的宽度为 672 像素，高度约为 420 像素以上。
- **图像预处理流程：**
    1. 提取原始图像（可能高达 720+ 像素）。
    2. 裁剪至玻璃线附近，并向下延伸约两毫米。
    3. 进行几何校正（Index of Refraction）——即除以 **1.4** 进行压缩。
- **待定尺寸决策点：**
    1. **宽度：** Yanir 建议将宽度自然裁剪或生成为 **640 像素**，以匹配 YOLO 模型的标准输入，但双方都同意 672 像素与 640 像素的差异（32 像素）影响不大。
    2. **高度：** 1.4 倍压缩后，图像高度约为 300 像素，需要决定是使用**填充（padding）来增加到 320 像素，还是通过调整原始图像裁剪范围**来自然达到压缩后的 320 像素。

**三、商业、授权与部署考量**

- **YOLOv9 授权问题：** 讨论了原始 YOLOv9 使用的 **GPL 2.0 授权**和作者提供的 **MIT 授权版本**。
    - Yanir 提供了 MIT 授权版本，并建议可以参照该版本，在最终的精简代码中，将团队自己开发的工具（如 JSON 生成器）与 MIT 版本的核心部分结合，以减少将所有自定义工具重新实现到 MIT 代码库的工作量。
- **YOLOv26（Ultrolytics）商业考量：** Yanir 传达了 Ursin 的主要担忧：
    - **长期成本：** 购买 Ultrolytics 的企业授权（约 1.5 万美元/年，针对所有部署）的成本虽然不高，但如果公司未来转向非 Ultrolytics 模型，仍需为未更新设备的站点继续支付授权费。
    - **部署限制：** 公司的模型部署方式是手动（Per Device Manual Addition），无法像医院那样进行空中更新（Over-the-Air Update）。这意味着未来如果模型发生变化，需要物理上更新设备，导致某些客户可能停留在旧的 Ultrolytics 模型版本，从而需要公司持续支付授权费用。

**四、下一步工作计划**

- **工作重点转移：** 鉴于目前的性能问题更多是数据（CAM generation）而非模型本身，双方同意暂缓 YOLOv26 的模型对比决策，将工作重心转移到数据质量上。
- **待办事项：**
    - Youwei 将 YOLOv26 的分析发现整理成文档并分享给 Yanir。
    - Yanir 将结束 YOLOv26 的讨论，并与 Youwei 合作开展 **CAM 生成**工作，以确保获得高质量的“Golden Data set”（黄金数据集）。
- **未决技术问题：** 需要确定一个最佳的置信度阈值（Confidence Threshold）用于模型在测试集上的点比较。